(function(n){var w=window.AmazonUIPageJS||window.P,p=w._namespace||w.attributeErrors,d=p?p("DetailPageTwisterViewAsset",""):w;d.guardFatal?d.guardFatal(n)(d,window):d.execute(function(){n(d,window)})})(function(n,w,p){n.when("A","dp-refresh-handler","view-util","twister-string-constants","dp-interactive-page-refresh-handler","twister-dimension-subview-promise-handler","page-refresh-custom-params-handler").register("page-refresh-view",function(d,K,r,h,v,q,B){function x(q,e,x){function A(a){return{chunk:function(a){var l=
a.ASIN,f=a.Value;a=a.FeatureName;if(!k.hiddenFeatures[a]){var b=a,m,y;try{b&&f&&f.content&&(y=f.content[b],"undefined"!==typeof y&&(m=t("#"+b),m.html(y).removeClass("js-feature-refresh-overlay").css({opacity:""})))}catch(e){b=b||"NoFeatureName",E.logFatal(e,{message:"Error in feature"+b})}k.twisterRefreshHandler.stampFeature(b,l);"twister-slot-price_feature_div"==a&&(f=f?f.content:null,y=t(".swatchSelect .twisterSwatchPrice").html(),m=t(".swatchSelect .price_slot_ppu").html(),y&&f&&f.priceToSet&&
(y=d.trim(y),f.priceToSet!==y&&(t(".swatchSelect .twisterSwatchPrice").html(f.priceToSet),C("twisterUpdatePriceMismatch"))),m&&f&&f.hasPricePerUnit&&f.pricePerUnitDisplay&&(m=d.trim(m),f.pricePerUnitDisplay!==m&&(t(".swatchSelect .price_slot_ppu").html(f.pricePerUnitDisplay),C("twisterUpdatePricePerUnitMismatch"))));"desktop_configurator_price_mismatch_div"==a&&d.trigger("DesktopConfiguratorPriceMismatchDataUpdated",l)}},success:function(a,l,f){C("twisterUpdateSuccess");v.updateRenderTime()},error:function(a,
l,f){Twister.$("#variations-overlay").hide();C("twisterUpdateFailure");Twister.showErrorMessageOnFailure&&(alert(Twister.errorMessageOnFailure),location.reload())},abort:function(a){E.logFatal("Ajax aborted: "+a)},timeout:4E4}}function u(a,c,l,f,b){var m=[];"parent"===a?(c=F(c,f,"parent",b),m.parent=c,c=F(l,f,"partial",b),m.partial=c):(c=F(l,f,a,b),m[a]=c);return m}function g(a,c,l,f,b){for(var m in a)if(a.hasOwnProperty(m)){if("full"===m){var e=l.dimensionType,g=k.twisterUtil.getDimensionInfo().length,
h=l.dimensionDisplayType,r=l.newAsin,A=b&&(d.state("dp-twister-csm")||{}).updateCSMPageTypeId;k.twisterRefreshHandler.startMeasurement(r,e,g,h,A?r:p,A?["is-twister","parentAsin-"+G]:p)}e=a[m].twisterRefreshParams;g=a[m].notifyClientParams;if(b){var u=!1;k.twisterRefreshHandler.doPageRefresh(null,e,c,f,function(b){b&&!b.isNewRequest&&(H(m),u=!0)},function(){!u&&H(m)})}N(g.asin,g.id,m,b)}}function H(a){t(k.config[a].affectedFeatures).addClass("js-feature-refresh-overlay").css({opacity:.5})}function z(){t.each(e.contextMetaData,
function(a,c){var l={};c=c.elementList||[];var f=c.length,b=[];l.click={};l.mouseOver={};for(var m=0;m<f;m++){var e=t("#"+c[m].divToUpdate);b.push("#"+c[m].divToUpdate);e.length&&c[m].customClientFunction&&(c[m].updateOnHover&&(l.mouseOver[c[m].divToUpdate]=e.attr("customfunctionname")),l.click[c[m].divToUpdate]=e.attr("customfunctionname"))}k.config[a].affectedFeatures=b.join(",");k.config[a].clientFeatures=l})}function N(a,c,l,f){var b="",b=f?h.EVENT_TYPE_CLICK:h.EVENT_TYPE_MOUSEOVER;t.each(k.config[l].clientFeatures[b],
function(b,f){try{var l=function(){k.twisterRefreshHandler.stampImageLoad(a)};(function(){var b={};b.P=n;(function(){eval("var P \x3d this.P;");eval("0, "+f)(c,DetailPage.StateController,l)}).call(b)})()}catch(e){E.logFatal("Client feature - "+b+", threw and exception :- "+e)}})}function F(a,c,l,f){if(/(?=.{0,512}$)^([A-Z]{2})_([A-Za-z]+)_([0-9]+)#([A-Za-z0-9\-\_\#\:\|]*$)/g.test(a)){var b=!0,e=encodeURIComponent(a);a=G}var g={},h={};g.asinList=a;b&&(g.customizationToken=e);g.id="parent"===l?a:"partial"===
f?c:a;g.mType=l;g=O(l,g);l=!1;(f=d.state("pwState"))&&(l=f.isTryState);l&&(g.isTryState=l);P(g,B.getCustomPageRefreshParams(a)||{});g=k.twisterRefreshHandler.createCustomParamsMap({},g);h.asin=a;h.id=c;return{twisterRefreshParams:g,notifyClientParams:h}}function P(a,c){d.each(c,function(c,f){a[f]=c})}function O(a,c){t.each(e.contextMetaData[a].mTypeSpecificURLParams,function(a,f){c[a]=f});return c}function Q(a){a=k.twisterUtil.getSelectionInfoFromSelectedVariationValuesMap(a.selected_variation_values);
k.twisterUtil.isFullySelected(a)?k.currentPageSelectionState="full":k.currentPageSelectionState="partial"}function R(a){var c={};c.config=a.measurement;c.dimensionDisplayType=a.dimensionsDisplayType;c.storeID=a.storeID;c.productGroupID=a.productGroupID;return c}function S(a){a=a.immutableURLPrefix;var c=null;a&&-1!=a.indexOf("?")&&(a=a.split("?")[1],0<a.length&&(c={},a=a.split("\x26"),d.each(a,function(a){a=a.split("\x3d");c[a[0]]=a[1]})),c.isFlushing=2,c.dpEnvironment=Twister.dpEnvironment);return c}
function I(a,c){var e;"partial"===a&&"partial"===c&&(e="partial");"partial"===a&&"full"===c&&(e="full");"full"===a&&"partial"===c&&(e="parent");"full"===a&&"full"===c&&(e="full");return e}var k=this,G=e.parent_asin,D=w.ue,J="",E=new x("dpTwisterPageRefreshView");this.twisterUtil=q.util;this.twisterFeatureName="Twister";this.currentPageSelectionState;this.twisterRefreshHandler;this.config={partial:{},full:{},parent:{},master:{}};this.hiddenFeatures={intermediateEOS:1,EOS:1};k.viewUtil=new r(q);k.subType;
var C=function(a){D&&D.count&&D.count(a,(D.count(a)||0)+1)};(function(){Q(e);z();var a={featureName:k.twisterFeatureName},c=R(e);k.twisterRefreshHandler=new K(a,null,c);a=S(e.twisterUpdateURLInfo);k.twisterRefreshHandler.addParams(a);B.initialize();q.registerPassive({viewAttribution:"DetailPage",viewName:"WebTwisterRefreshView"},{updateView:function(a,f){var b={};if(a!==h.METADATA){var b={},c;c=p;if(f)switch(a){case h.VARIATION_CHANGE:c=f.selected().selInfo;break;case h.VARIATION_PEEK:c=f.peek().selInfo}b.selectionInfo=
c;b.dimensionCombination=k.viewUtil.getCurrDimCombId(b.selectionInfo,"_","X");c=k.twisterUtil.isFullySelected(b.dimensionCombination);b.childAsin=k.twisterUtil.getAsinFromSelectionInfo(b.selectionInfo,c);b.newPageSelectionState=c?"full":"partial";b.mTypeForRefresh=I(k.currentPageSelectionState,b.newPageSelectionState);b.newAsin="parent"===b.mTypeForRefresh?G:b.childAsin;b.doNotAbort="parent"===b.mTypeForRefresh?!0:!1;b.twisterCallListParams=u(b.mTypeForRefresh,b.newAsin,b.childAsin,b.dimensionCombination,
b.newPageSelectionState);b.optionsForTwisterRefresh=A(f);b.pageRefreshMeasure={newAsin:b.newAsin,dimensionType:J,dimensionDisplayType:e.dimensionsDisplayType}}switch(a){case h.VARIATION_CHANGE:k.subType!==h.PRODUCTIZED_VIEW_SUBTYPE&&(g(b.twisterCallListParams,b.optionsForTwisterRefresh,b.pageRefreshMeasure,b.doNotAbort,!0),k.currentPageSelectionState=b.newPageSelectionState,k.subType=p);break;case h.METADATA:switch(f.subType){case h.DP_STATE_VIEW_SUBTYPE:J=f.divMetadata.dimDisplayType;break;case h.PRODUCTIZED_VIEW_SUBTYPE:k.subType=
f.subType,b.dimensionCombination=f.newDimCombID,b.childAsin=f.childAsin,b.newAsin=f.newAsin,b.newPageSelectionState=k.twisterUtil.isFullySelected(b.dimensionCombination)?"full":"partial",b.mTypeForRefresh=I(k.currentPageSelectionState,b.newPageSelectionState),b.doNotAbort="parent"===b.mTypeForRefresh?!0:!1,b.twisterCallListParams=u(b.mTypeForRefresh,b.newAsin,b.childAsin,b.dimensionCombination,b.newPageSelectionState),b.optionsForTwisterRefresh=A(f),b.pageRefreshMeasure={newAsin:b.newAsin,dimensionType:f.divMetaData?
f.divMetaData.dimDisplayType:p,dimensionDisplayType:e.dimensionsDisplayType},g(b.twisterCallListParams,b.optionsForTwisterRefresh,b.pageRefreshMeasure,b.doNotAbort,!0),k.currentPageSelectionState=b.newPageSelectionState}}}})})()}var t=d.$;q.registerDimensionSubView("page-refresh-view",x);return x});n.when("A").register("twister-common-constants",function(d){return{FAMILY_SIZE_BUCKET_LIMITS:[0,3,8,25,50,100,1E3,5E3],DEFAULT_SELECTION_TAG:"defaultSelection",BottomSheet:{TRIGGERING_CRITERION_BOTTOMSHEET_OPEN:"onBottomsheetOpen",
BOTTOM_SHEET_SELECTOR:"#twister_bottom_sheet",OVERFLOW_THRESHOLD:8,BOTTOM_SHEET_INIT_TIME:"dpBottomSheetInitTime",PREFETCH_AJAX_CALLS_COMPLETED_EVENT:"prefetchAjaxCallsCompleted"},SortingFiltering:{PRICE_SORT_TOGGLE_SWITCH_CLICK_ON_METRIC:"DPBottomSheetSortingToggleSwitchClickOn",PRICE_SORT_TOGGLE_SWITCH_CLICK_OFF_METRIC:"DPBottomSheetSortingToggleSwitchClickOff",PRICE_SORT_TOGGLE_SWITCH_ENABLED_STATUS_METRIC:"DPBottomSheetPriceSortingToggleSwitchEnabledStatus",PRIME_FILTER_TOGGLE_SWITCH_CLICK_ON_METRIC:"DPBottomSheetPrimeFilteringToggleSwitchClickOn",
PRIME_FILTER_TOGGLE_SWITCH_CLICK_OFF_METRIC:"DPBottomSheetPrimeFilteringToggleSwitchClickOff",PRIME_FILTER_TOGGLE_SWITCH_ENABLED_STATUS_METRIC:"DPBottomSheetPrimeFilteringToggleSwitchEnabledStatus",SORTING_TYPE_PRICE:"price",SORTING_TYPE_UNSORTED:"unsorted",PREFETCH_AJAX_CALLS_COMPLETED_EVENT:"prefetchAjaxCallsCompleted",TOGGLE_SWITCH_STATE_OFF:"off",TOGGLE_SWITCH_STATE_ON:"on",PRICE_SORTING_ENABLED_PARAMETER:"priceSortingEnabled",PRICE_SORTING_PRIORITY_NAME_PARAMETER:"priceSortingPriorityName",ALTER_TYPE_NAME_PRICE:"price",
ALTER_TYPE_NAME_PRIME:"prime",ALTER_SUB_TYPE_ENABLE:"enable",ALTER_SUB_TYPE_DISABLE:"disable",ALTER_TYPE_SORT:"sort",ALTER_TYPE_FILTER:"filter",PRICE_SORT_TOGGLE_SWITCH_SELECTOR:".priceSortToggleSwitch",PRIME_FILTER_TOGGLE_SWITCH_SELECTOR:".primeFilterToggleSwitch",EXPERIMENT_PRICE_SORTING:"priceSorting",EXPERIMENT_PRIME_FILTERING:"primeFiltering",ATTRIBUTE_PRICE_SORTING_PRIORITY:"priorityName",ATTRIBUTE_SORT_BY_PRICE_STRING:"sortByPriceString",ATTRIBUTE_SORTED_BY_PRICE_STRING:"sortedByPriceString",
ATTRIBUTE_TOOL_NAME:"toolName",TOOL_TYPE_TOGGLE_SWITCH:"toggleSwitch"}}});n.when("A").register("page-refresh-custom-params-handler",function(d){var n={};return{initialize:function(){d.on("updateCustomPageRefreshParams",function(d,h,v){d&&h&&null!==v&&v!==p&&(n[d]||(n[d]={}),n[d][h]=v)})},getCustomPageRefreshParams:function(d){return n[d]||{}}}});"use strict";n.when("A","a-sheet","jQuery","ready").execute(function(d,n,r){d.on("a:sheet:afterShow:bottom_sheet_mediaMatrix",function(){var d=r("#mediaMatrix_bottomSheet_view_div").find("#format-picker-scroller"),
n=d.find("#selected-format"),q=n.offset().left,p=Math.abs(n.width()),n=Math.max(document.documentElement.clientWidth,w.innerWidth||0),p=n-p,x=d.scrollLeft();(q>p||0>=q)&&d.scrollLeft(x+q-n/3)})});n.when("A","view-util","twister-string-constants").register("hover-refresh-view",function(d,w,r){var h=d.$;return function(v,q,B){function x(){d.each(q.contextMetaData,function(d,n){var g={};d=d.elementList||[];var h=d.length;g.mouseOver=[];for(var z=0;z<h;z++)d[z].customClientFunction&&d[z].updateOnHover&&
g.mouseOver.push(d[z].divToUpdate);e.clientFeatures[n]=g})}function t(p,u){d.each(e.clientFeatures[u][r.EVENT_TYPE_MOUSEOVER],function(e){try{var d=h("#"+e),u;d.length&&(u=d.attr("customfunctionname"),function(){var e={};e.P=n;(function(){eval("var P \x3d this.P;");eval("0, "+u)(p,DetailPage.StateController)}).call(e)}())}catch(r){M.logFatal("Client feature - "+feature+", threw and exception :- "+r)}})}function L(d){d=e.twisterUtil.getSelectionInfoFromSelectedVariationValuesMap(d.selected_variation_values);
e.twisterUtil.isFullySelected(d)?e.currentPageSelectionState="full":e.currentPageSelectionState="partial"}var e=this,M=new B("dpTwisterHoverRefreshView");this.twisterUtil=v.util;this.twisterFeatureName="TwisterHover";this.currentPageSelectionState;this.clientFeatures={partial:{},full:{},parent:{},master:{}};e.viewUtil=new w(v);e.subType=p;(function(){function n(d){d=e.viewUtil.getCurrDimCombId(d,"_","X");var g=e.twisterUtil.isFullySelected(d)?"full":"partial",h,p=e.currentPageSelectionState;"partial"===
p&&"partial"===g&&(h="partial");"partial"===p&&"full"===g&&(h="full");"full"===p&&"partial"===g&&(h="parent");"full"===p&&"full"===g&&(h="full");g=[h];"parent"===h&&(g=["parent","partial"]);return{clientFeatureToRefresh:g,dimensionCombination:d}}L(q);x();v.registerPassive({viewAttribution:"DetailPageTwister",viewName:"WebTwisterHoverRefreshView"},{updateView:function(h,g){switch(h){case r.VARIATION_PEEK:var q={};h=g.peek().selInfo;q=n(h);d.each(q.clientFeatureToRefresh,function(d){t(q.dimensionCombination,
d)});case r.VARIATION_CHANGE:e.subType!==r.PRODUCTIZED_VIEW_SUBTYPE&&(h=g.selected().selInfo,g=e.viewUtil.getCurrDimCombId(h,"_","X"),e.currentPageSelectionState=e.twisterUtil.isFullySelected(g)?"full":"partial",e.subType=p);break;case r.METADATA:switch(g.subType){case r.PRODUCTIZED_VIEW_SUBTYPE:e.subType=g.subType,e.currentPageSelectionState=e.twisterUtil.isFullySelected(g.newDimCombID)?"full":"partial"}}}})})()}})});